# AIEN 開発ルール

このドキュメントは、AIEN開発における基本的なルールとベストプラクティスをまとめたものです。シンプルさを重視しながらも、コード品質と開発効率を確保するためのガイドラインとして活用してください。

## 基本ルール

1. **コードとテストの同時開発**
   - 新機能追加時には必ずテストコードも作成する
   - テストが通過することを確認してからコミットする
   - テストカバレッジは最低70%を目標とする

2. **コード品質の維持**
   - コミット前に必ずBiomeによるリンティングを実行し、指摘事項を修正する
   - `npm run lint` コマンドでプロジェクト全体のリンティングを実行
   - 警告やエラーが0の状態でコミットする

3. **ブランチ戦略**
   - `main`: 本番環境用の安定ブランチ
   - `develop`: 開発用統合ブランチ
   - 機能開発は `feature/機能名` ブランチで行う
   - バグ修正は `fix/バグ内容` ブランチで行う

4. **コミットメッセージ**
   - 接頭辞を使用して変更の種類を明示する
     - `feat:` 新機能
     - `fix:` バグ修正
     - `docs:` ドキュメント変更
     - `style:` コードスタイル変更（機能に影響なし）
     - `refactor:` リファクタリング
     - `test:` テスト関連
     - `chore:` ビルドプロセスやツール変更

5. **コードレビュー**
   - プルリクエストは少なくとも1人のレビューを受ける
   - レビュー時のコメントは必ず対応する
   - マージ前にCIが通過していることを確認する

## 開発プロセス

1. **タスク管理**
   - 開発タスクはGitHub Issuesで管理
   - 各タスクには担当者と期限を設定
   - 作業開始時にIssueを「進行中」に更新

2. **開発サイクル**
   - 機能実装 → テスト作成 → リンティング → コードレビュー → マージ

3. **リリースプロセス**
   - リリース前に `develop` から `release/vX.X.X` ブランチを作成
   - テスト完了後に `main` にマージしタグ付け

## 技術的なガイドライン

1. **TypeScript**
   - 型定義は明示的に行う
   - `any` 型の使用は最小限に抑える
   - インターフェースや型エイリアスを積極的に活用する

2. **React**
   - 関数コンポーネントとHooksを使用
   - 状態管理は適切なスコープで行う
   - 大きなコンポーネントは適切に分割する

3. **テスト**
   - ユニットテスト: 個々の関数やコンポーネント
   - 統合テスト: 複数のコンポーネントやAPIとの連携
   - E2Eテスト: ユーザーフローの検証

4. **パフォーマンス**
   - 不必要な再レンダリングを避ける
   - バンドルサイズを意識する
   - メモ化を適切に活用する

## 自動化

1. **CI/CD**
   - GitHub Actionsを使用
   - プルリクエスト時に自動テスト実行
   - `main` ブランチへのマージ時に自動デプロイ

2. **定期タスク**
   - 依存パッケージの更新確認（月1回）
   - テストカバレッジレポート生成（週1回）

このルールは開発の進行に合わせて適宜見直し、チーム全体の合意のもとで更新していきます。
